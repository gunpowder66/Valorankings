-- psql -d Valoranking -f schema/schema.sql

DROP DATABASE IF EXISTS Valoranking;
CREATE DATABASE Valoranking;

DROP TABLE IF EXISTS ranks;
DROP TABLE IF EXISTS type;

CREATE TABLE ranks (
  id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY UNIQUE,
  type_id INT NOT NULL,
  gun_name varchar(100) NOT NULL,
  total_rating INT NOT NULL DEFAULT 0,
  count INT NOT NULL DEFAULT 0
);

CREATE TABLE type (
  id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY UNIQUE,
  name varchar(100) NOT NULL
);


